os:
  - linux
  - osx
language: rust
sudo: false
branches:
  only:
    - master
cache:
  cargo: true
before_script:
  - cargo install clippy
  - cargo install rustfmt
script:
  - cargo test --release --verbose &&
  - cargo test --features fake_clock --release --verbose
  - cargo fmt -- --check &&
  - cargo clippy && cargo clippy 
before_cache:
 - cargo prune
